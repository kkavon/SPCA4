<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Rating and Review</title>
</head>
<body>
    <h1>Rate and Review Your Purchase</h1>
    <form th:action="@{/submitRatings}" method="post">
        <div th:each="orderItem, i : ${orderItems}">
            <h2 th:text="${orderItem.product.title}">Product Name</h2>
            <label for="rating">Rating (1-5):</label>
            <input type="number" th:id="'rating-' + ${i.index}" th:name="'rating-' + ${i.index}" min="1" max="5" required />
            <br><br>
            <label for="comment">Review:</label>
            <textarea th:id="'comment-' + ${i.index}" th:name="'comment-' + ${i.index}" rows="4" cols="50" required></textarea>
            <input type="hidden" th:name="'productId-' + ${i.index}" th:value="${orderItem.product.id}" />
            <br><br>
        </div>
        <input type="hidden" name="orderItemCount" th:value="${orderItems.size()}" />
        <input type="submit" value="Submit All Ratings and Reviews" />
    </form>
</body>
</html>
